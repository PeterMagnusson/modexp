# Makefile for building and running motprod simulation.

TB_SRC = ../src/tb/tb_montprod.v
RTL_SRC = ../src/rtl/montprod.v ../src/rtl/adder32.v ../src/rtl/shr32.v ../src/rtl/blockmem1r1w.v


all: testmontprod.sim

testmontprod.sim: $(TB_SRC) $(RTL_SRC)
	iverilog -Wall -o testmontprod.sim $(TB_SRC) $(RTL_SRC)

lint:  $(RTL_SRC)
	verilator --lint-only $(RTL_SRC)

test: testmontprod.sim
	./testmontprod.sim

clean:
	rm testmontprod.sim
